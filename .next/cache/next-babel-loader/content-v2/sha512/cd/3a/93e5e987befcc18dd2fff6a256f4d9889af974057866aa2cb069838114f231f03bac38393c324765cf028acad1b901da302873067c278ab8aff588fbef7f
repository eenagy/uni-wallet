{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/admin/workspace/smart_contracts/uni-wallet/src/components/common/Modal.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport styled, { css } from 'styled-components';\nimport { animated, useTransition, useSpring } from 'react-spring';\nimport { DialogOverlay, DialogContent } from '@reach/dialog';\nimport { isMobile } from 'react-device-detect';\nimport '@reach/dialog/styles.css';\nimport { transparentize } from 'polished';\nimport { useGesture } from 'react-use-gesture';\nconst AnimatedDialogOverlay = animated(DialogOverlay); // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\nconst StyledDialogOverlay = styled(AnimatedDialogOverlay).withConfig({\n  displayName: \"Modal__StyledDialogOverlay\",\n  componentId: \"sc-10x4h64-0\"\n})([\"&[data-reach-dialog-overlay]{z-index:2;background-color:transparent;overflow:hidden;display:flex;align-items:center;justify-content:center;background-color:\", \";}\"], ({\n  theme\n}) => theme.modalBG);\nconst AnimatedDialogContent = animated(DialogContent); // destructure to not pass custom props to Dialog DOM element\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\nconst StyledDialogContent = styled((_ref) => {\n  let {\n    minHeight,\n    maxHeight,\n    mobile,\n    isOpen\n  } = _ref,\n      rest = _objectWithoutProperties(_ref, [\"minHeight\", \"maxHeight\", \"mobile\", \"isOpen\"]);\n\n  return /*#__PURE__*/_jsxDEV(AnimatedDialogContent, _objectSpread({}, rest), void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 3\n  }, this);\n}).attrs({\n  'aria-label': 'dialog'\n}).withConfig({\n  displayName: \"Modal__StyledDialogContent\",\n  componentId: \"sc-10x4h64-1\"\n})([\"overflow-y:\", \";&[data-reach-dialog-content]{margin:0 0 2rem 0;background-color:\", \";box-shadow:0 4px 8px 0 \", \";padding:0px;width:50vw;overflow-y:\", \";overflow-x:hidden;align-self:\", \";max-width:420px;\", \" \", \" display:flex;border-radius:20px;\", \" \", \"}\"], ({\n  mobile\n}) => mobile ? 'scroll' : 'hidden', ({\n  theme\n}) => theme.bg1, ({\n  theme\n}) => transparentize(0.95, theme.shadow1), ({\n  mobile\n}) => mobile ? 'scroll' : 'hidden', ({\n  mobile\n}) => mobile ? 'flex-end' : 'center', ({\n  maxHeight\n}) => maxHeight && css([\"max-height:\", \"vh;\"], maxHeight), ({\n  minHeight\n}) => minHeight && css([\"min-height:\", \"vh;\"], minHeight), ({\n  theme\n}) => theme.mediaWidth.upToMedium`\n      width: 65vw;\n      margin: 0;\n    `, ({\n  theme,\n  mobile\n}) => theme.mediaWidth.upToSmall`\n      width:  85vw;\n      ${mobile && css([\"width:100vw;border-radius:20px;border-bottom-left-radius:0;border-bottom-right-radius:0;\"])}\n    `);\nexport function Modal({\n  isOpen,\n  onDismiss,\n  minHeight = false,\n  maxHeight = 90,\n  initialFocusRef,\n  children\n}) {\n  const fadeTransition = useTransition(isOpen, null, {\n    config: {\n      duration: 200\n    },\n    from: {\n      opacity: 0\n    },\n    enter: {\n      opacity: 1\n    },\n    leave: {\n      opacity: 0\n    }\n  });\n  const [{\n    y\n  }, set] = useSpring(() => ({\n    y: 0,\n    config: {\n      mass: 1,\n      tension: 210,\n      friction: 20\n    }\n  }));\n  const bind = useGesture({\n    onDrag: state => {\n      set({\n        y: state.down ? state.movement[1] : 0\n      });\n\n      if (state.movement[1] > 300 || state.velocity > 3 && state.direction[1] > 0) {\n        onDismiss();\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: fadeTransition.map(({\n      item,\n      key,\n      props\n    }) => item && /*#__PURE__*/_jsxDEV(StyledDialogOverlay, {\n      style: props,\n      onDismiss: onDismiss,\n      initialFocusRef: initialFocusRef,\n      unstable_lockFocusAcrossFrames: false,\n      children: /*#__PURE__*/_jsxDEV(StyledDialogContent, _objectSpread(_objectSpread({}, isMobile ? _objectSpread(_objectSpread({}, bind()), {}, {\n        style: {\n          transform: y.interpolate(y => `translateY(${y > 0 ? y : 0}px)`)\n        }\n      }) : {}), {}, {\n        \"aria-label\": \"dialog content\",\n        minHeight: minHeight,\n        maxHeight: maxHeight,\n        mobile: isMobile,\n        children: [!initialFocusRef && isMobile ? /*#__PURE__*/_jsxDEV(\"div\", {\n          tabIndex: 1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 49\n        }, this) : null, children]\n      }), void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 15\n      }, this)\n    }, key, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }, this))\n  }, void 0, false);\n}","map":{"version":3,"sources":["/Users/admin/workspace/smart_contracts/uni-wallet/src/components/common/Modal.tsx"],"names":["React","styled","css","animated","useTransition","useSpring","DialogOverlay","DialogContent","isMobile","transparentize","useGesture","AnimatedDialogOverlay","StyledDialogOverlay","theme","modalBG","AnimatedDialogContent","StyledDialogContent","minHeight","maxHeight","mobile","isOpen","rest","attrs","bg1","shadow1","mediaWidth","upToMedium","upToSmall","Modal","onDismiss","initialFocusRef","children","fadeTransition","config","duration","from","opacity","enter","leave","y","set","mass","tension","friction","bind","onDrag","state","down","movement","velocity","direction","map","item","key","props","style","transform","interpolate"],"mappings":"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","sourcesContent":["import React from 'react'\nimport styled, { css } from 'styled-components'\nimport { animated, useTransition, useSpring } from 'react-spring'\nimport { DialogOverlay, DialogContent } from '@reach/dialog'\nimport { isMobile } from 'react-device-detect'\nimport '@reach/dialog/styles.css'\nimport { transparentize } from 'polished'\nimport { useGesture } from 'react-use-gesture'\n\nconst AnimatedDialogOverlay = animated(DialogOverlay)\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst StyledDialogOverlay = styled(AnimatedDialogOverlay)`\n  &[data-reach-dialog-overlay] {\n    z-index: 2;\n    background-color: transparent;\n    overflow: hidden;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: ${({ theme }) => theme.modalBG};\n  }\n`\n\nconst AnimatedDialogContent = animated(DialogContent)\n// destructure to not pass custom props to Dialog DOM element\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst StyledDialogContent = styled(({ minHeight, maxHeight, mobile, isOpen, ...rest }) => (\n  <AnimatedDialogContent {...rest} />\n)).attrs({\n  'aria-label': 'dialog'\n})`\n  overflow-y: ${({ mobile }) => (mobile ? 'scroll' : 'hidden')};\n\n  &[data-reach-dialog-content] {\n    margin: 0 0 2rem 0;\n    background-color: ${({ theme }) => theme.bg1};\n    box-shadow: 0 4px 8px 0 ${({ theme }) => transparentize(0.95, theme.shadow1)};\n    padding: 0px;\n    width: 50vw;\n    overflow-y: ${({ mobile }) => (mobile ? 'scroll' : 'hidden')};\n    overflow-x: hidden;\n\n    align-self: ${({ mobile }) => (mobile ? 'flex-end' : 'center')};\n\n    max-width: 420px;\n    ${({ maxHeight }) =>\n      maxHeight &&\n      css`\n        max-height: ${maxHeight}vh;\n      `}\n    ${({ minHeight }) =>\n      minHeight &&\n      css`\n        min-height: ${minHeight}vh;\n      `}\n    display: flex;\n    border-radius: 20px;\n    ${({ theme }) => theme.mediaWidth.upToMedium`\n      width: 65vw;\n      margin: 0;\n    `}\n    ${({ theme, mobile }) => theme.mediaWidth.upToSmall`\n      width:  85vw;\n      ${mobile &&\n        css`\n          width: 100vw;\n          border-radius: 20px;\n          border-bottom-left-radius: 0;\n          border-bottom-right-radius: 0;\n        `}\n    `}\n  }\n`\n\ninterface ModalProps {\n  isOpen: boolean\n  onDismiss: () => void\n  minHeight?: number | false\n  maxHeight?: number\n  initialFocusRef?: React.RefObject<any>\n  children?: React.ReactNode\n}\n\nexport function Modal({\n  isOpen,\n  onDismiss,\n  minHeight = false,\n  maxHeight = 90,\n  initialFocusRef,\n  children\n}: ModalProps) {\n  const fadeTransition = useTransition(isOpen, null, {\n    config: { duration: 200 },\n    from: { opacity: 0 },\n    enter: { opacity: 1 },\n    leave: { opacity: 0 }\n  })\n\n  const [{ y }, set] = useSpring(() => ({ y: 0, config: { mass: 1, tension: 210, friction: 20 } }))\n  const bind = useGesture({\n    onDrag: state => {\n      set({\n        y: state.down ? state.movement[1] : 0\n      })\n      if (state.movement[1] > 300 || (state.velocity > 3 && state.direction[1] > 0)) {\n        onDismiss()\n      }\n    }\n  })\n\n  return (\n    <>\n      {fadeTransition.map(\n        ({ item, key, props }) =>\n          item && (\n            <StyledDialogOverlay\n              key={key}\n              style={props}\n              onDismiss={onDismiss}\n              initialFocusRef={initialFocusRef}\n              unstable_lockFocusAcrossFrames={false}\n            >\n              <StyledDialogContent\n                {...(isMobile\n                  ? {\n                      ...bind(),\n                      style: { transform: y.interpolate(y => `translateY(${y > 0 ? y : 0}px)`) }\n                    }\n                  : {})}\n                aria-label=\"dialog content\"\n                minHeight={minHeight}\n                maxHeight={maxHeight}\n                mobile={isMobile}\n              >\n                {/* prevents the automatic focusing of inputs on mobile by the reach dialog */}\n                {!initialFocusRef && isMobile ? <div tabIndex={1} /> : null}\n                {children}\n              </StyledDialogContent>\n            </StyledDialogOverlay>\n          )\n      )}\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}